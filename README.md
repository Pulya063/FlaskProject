# MyMovies - Flask Web Application

**MyMovies** ‚Äî —Ü–µ –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—î—é —Ñ—ñ–ª—å–º—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –Ω–∞ –±–∞–∑—ñ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É Flask. –î–æ–¥–∞—Ç–æ–∫ –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ñ—ñ–ª—å–º–∏, —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Å–ø–∏—Å–∫–∏, –∑–∞–ª–∏—à–∞—Ç–∏ –≤—ñ–¥–≥—É–∫–∏ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –Ω–∞ –ø–æ—à—Ç—É.

## üöÄ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
*   **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É, –≤—Ö—ñ–¥/–≤–∏—Ö—ñ–¥ —ñ–∑ —Å–∏—Å—Ç–µ–º–∏.
*   **–ü—Ä–æ—Ñ—ñ–ª—å:** –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö, –ø–µ—Ä–µ–≥–ª—è–¥ –≤–ª–∞—Å–Ω–∏—Ö —Å–ø–∏—Å–∫—ñ–≤ —Ñ—ñ–ª—å–º—ñ–≤.
*   **Email —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è:** –í—ñ—Ç–∞–ª—å–Ω—ñ –ª–∏—Å—Ç–∏ –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–∑—Å–∏–ª–∫–∞ –Ω–æ–≤–∏–Ω (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Celery + RabbitMQ).

### üé¨ –§—ñ–ª—å–º–∏
*   **CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó:** –î–æ–¥–∞–≤–∞–Ω–Ω—è, –ø–µ—Ä–µ–≥–ª—è–¥, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ—ñ–ª—å–º—ñ–≤.
*   **–ü–æ—à—É–∫ —Ç–∞ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è:** –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –Ω–∞–∑–≤–æ—é, –∂–∞–Ω—Ä–æ–º, —Ä–æ–∫–æ–º, –∫—Ä–∞—ó–Ω–æ—é —Ç–∞ –∞–∫—Ç–æ—Ä–∞–º–∏.
*   **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ—Å—Ç–µ—Ä—ñ–≤, –æ–ø–∏—Å—É, —Ä–µ–π—Ç–∏–Ω–≥—É, —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ —Ç–∞ –∞–∫—Ç–æ—Ä—Å—å–∫–æ–≥–æ —Å–∫–ª–∞–¥—É.

### ‚≠ê –°–æ—Ü—ñ–∞–ª—å–Ω–∞ –≤–∑–∞—î–º–æ–¥—ñ—è
*   **–í—ñ–¥–≥—É–∫–∏ —Ç–∞ –†–µ–π—Ç–∏–Ω–≥–∏:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –∑–∞–ª–∏—à–∞—Ç–∏ –æ—Ü—ñ–Ω–∫–∏ (1-10) —Ç–∞ —Ç–µ–∫—Å—Ç–æ–≤—ñ –≤—ñ–¥–≥—É–∫–∏ –¥–æ —Ñ—ñ–ª—å–º—ñ–≤.
*   **–°–ø–∏—Å–∫–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è:** –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Å–ø–∏—Å–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–£–ª—é–±–ª–µ–Ω–µ", "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ") —Ç–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç—É–¥–∏ —Ñ—ñ–ª—å–º–∏.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

*   **Backend:** Python 3, Flask
*   **Database:** PostgreSQL, SQLAlchemy (ORM)
*   **Async Tasks:** Celery, RabbitMQ (–¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ email)
*   **Frontend:** HTML, CSS, Jinja2 Templates
*   **Containerization:** Docker, Docker Compose

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ—Ç–æ—á–µ–Ω–Ω—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥:

```bash
cp .env.example .env
```

–ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ—Å—Ç—É `.env`:
```ini
DB_HOST=localhost
RABBITMQ_HOST=localhost
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=your_user
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@mymovies.com
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–Ø–∫—â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ Docker —Ç–∞ Docker Compose, –∑–∞–ø—É—Å–∫ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é:

```bash
docker-compose up --build
```
–¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–Ω—ñ–º–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –¥–ª—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É, –±–∞–∑–∏ –¥–∞–Ω–∏—Ö PostgreSQL —Ç–∞ RabbitMQ.

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

**–í–∏–º–æ–≥–∏:**
*   Python 3.8+
*   PostgreSQL (—Å—Ç–≤–æ—Ä—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö `film_db`)
*   RabbitMQ (–¥–ª—è —Ä–æ–±–æ—Ç–∏ Celery)

1.  **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
    ```bash
    pip install -r requirements.txt
    ```

2.  **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö:**
    –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω–æ, –∞ –¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø—É –≤ `database/database.py` –∞–±–æ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤—ñ—Ä–Ω—ñ.

3.  **–ó–∞–ø—É—Å—Ç—ñ—Ç—å Celery (–≤ –æ–∫—Ä–µ–º–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ):**
    ```bash
    celery -A other.mail_sender worker --loglevel=info
    ```
    *(–î–ª—è Windows –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è `gevent` –∞–±–æ `solo` pool)*:
    ```bash
    celery -A other.mail_sender worker --loglevel=info --pool=solo
    ```

4.  **–ó–∞–ø—É—Å—Ç—ñ—Ç—å Celery Beat (–¥–ª—è –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏—Ö –∑–∞–¥–∞—á, –≤ –æ–∫—Ä–µ–º–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ):**
    ```bash
    celery -A other.mail_sender beat --loglevel=info
    ```

5.  **–ó–∞–ø—É—Å—Ç—ñ—Ç—å Flask –¥–æ–¥–∞—Ç–æ–∫:**
    ```bash
    python app.py
    ```

–î–æ–¥–∞—Ç–æ–∫ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: `http://127.0.0.1:7000`

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

*   `app.py` ‚Äî –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –¥–æ–¥–∞—Ç–∫—É, –º–∞—Ä—à—Ä—É—Ç–∏ (routes).
*   `database/` ‚Äî –ú–æ–¥–µ–ª—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.
*   `templates/` ‚Äî HTML —à–∞–±–ª–æ–Ω–∏ (Jinja2).
*   `static/` ‚Äî CSS —Å—Ç–∏–ª—ñ —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.
*   `other/` ‚Äî –î–æ–ø–æ–º—ñ–∂–Ω—ñ –º–æ–¥—É–ª—ñ (–≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ—à—Ç–∏, –∫–æ–Ω—Ñ—ñ–≥–∏).
*   `migrations/` ‚Äî –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (Alembic).
