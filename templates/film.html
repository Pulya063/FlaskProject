<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Filter</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header class="site-header">
    <div class="logo">
        <a href="/">üé¨ MyMovies</a>
    </div>

    <form action="/films" method="get" class="search-form">
        <div class="input-group">
            <input type="text" name="name" placeholder="–ù–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É...">
        </div>

        <div class="input-group">
            <input type="number" name="year" placeholder="–†—ñ–∫" min="1900" max="2099">
        </div>

        <div class="input-group">
            <select name="country">
                <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å –∫—Ä–∞—ó–Ω—É</option>
                {% for one_country in countries %}
                    <option value="{{ one_country['country_name'] }}">{{ one_country["country_name"] }}</option>
                {% endfor %}
            </select>
            <select name="genre">
                <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å –ñ–∞–Ω—Ä</option>
                {% for genre in genres %}
                    <option value="{{ genre['genre'] }}">{{ genre["genre"] }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="input-group">
            <input type="text" name="first_name" placeholder="–Ü–º—è –ê–∫—Ç–æ—Ä–∞">
            <input type="text" name="last_name" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ –ê–∫—Ç–æ—Ä–∞">
        </div>

        <button type="submit" name="search">üîç –ü–æ—à—É–∫</button>
    </form>
</header>


{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flashes">
        <section class="content-massage">
                {% for category, message in messages %}
                    <div class="message--{{ category }}">{{ message }}</div>
                {% endfor %}
        </section>
    </ul>
  {% endif %}
{% endwith %}

{% if films %}
    <section class="content">
        {% for film in films %}
        <div class="card">
            {% if film.poster %}
                <div class="card-image">
                    <img src="{{ film.poster }}" alt="–ü–æ—Å—Ç–µ—Ä {{ film.name }}" style="max-width: 200px;">
                </div>
            {% endif %}

            <div class="card-info">
                <h3 class="card-title">
                    <a href="/films/{{ film.id }}">{{ film.name }}</a>
                </h3>

                <div class="card-meta">
                    <span title="–†—ñ–∫ –≤–∏—Ö–æ–¥—É">üìÖ {{ film.year }}</span>
                    <span title="–†–µ–π—Ç–∏–Ω–≥">‚≠ê {{ film.rating }}/10</span>
                    <span title="–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å">‚è≥ {{ film.duration }} —Ö–≤.</span>
                    <span title="–ñ–∞–Ω—Ä">üé≠ {{ film.genre }}</span>
                </div>

<!--                <div class="card-footer">-->
<!--                    <small>–î–∞—Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è: {{ film.added_at }}</small>-->
<!--                </div>-->
            </div>
        </div>
        {% endfor %}
    </section>
{% endif %}

</body>
</html>